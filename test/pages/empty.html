<!DOCTYPE html>
<html>

<head>
    <title>Hyper-JSON Engine</title>
    <script src="../../dist/index.js" />
    <script>
        console.info("Hje", Hje);
    </script>
</head>

<body>
    <h1>Hyper-JSON Engine</h1>

    <div id="demo-container"></div>
    <script>
        class A extends Hje.BaseComponent {
            constructor(element, options) {
                super(element, options);
                this.currentModel = {
                    children: [
                        { key: "child", children: options.children },
                        { children: "Additional" }
                    ]
                };
                this.refreshChild(null);
            }
            updateValue(value) {
                let m = this.childModel("child");
                m.children = value;
                this.refreshChild("child");
            }
            onListened(key, h, info) {
                return info.onChild("child", key, h);
            }
        }

        Hje.render("demo-container", {
            style: {
                "color": "#808080",
                "font-size": "14px"
            },
            on: {
                click(ev) {
                    console.log("ul click", ev);
                }
            },
            children: [
                {
                    tagName: "ul",
                    props: {
                        type: "circle",
                    },
                    children: [
                        { tagName: "li", children: "ABCDEFG" },
                        { tagName: "li", children: "HIJKLMN" },
                        { tagName: "li", children: "OPQ RST" },
                        { tagName: "li", children: "UVW XYZ" },
                        {
                            control: A,
                            key: "x",
                            tagName: "li",
                            children: "Greetings!",
                            on: {
                                click(ev) {
                                    console.log("A click", ev);
                                }
                            }
                        },
                    ]
                }
            ],
            onLoad(context) {
                let c = context.childContext("x").control();
                setTimeout(() => {
                    c.updateValue("0123456789");
                }, 2000);
            }
        });
    </script>
</body>

</html>