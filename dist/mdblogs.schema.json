{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "MdBlogs articles and config",
  "description": "The Article collection and site config of MdBlogs",
  "type": "object",
  "properties": {
    "$schema": {
      "description": "The JSON schema URL",
      "type": "string"
    },
    "$id": {
      "description": "The identifier or URL of the website directory",
      "type": "string"
    },
    "name": {
      "description": "The website name",
      "type": "string"
    },
    "description": {
      "description": "The description of the website",
      "type": "string"
    },
    "home": {
      "description": "The relative URL of home markdown file",
      "type": "string"
    },
    "blogs": {
      "description": "All blogs info",
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "name": {
              "description": "The optional name of blogs",
              "type": "string"
            },
            "count": {
              "description": "The maximum count to display",
              "type": "integer"
            },
            "list": {
              "description": "The collection of blog order by publish date ascending (earlist to latest)",
              "type": "array",
              "items": {
                "$ref": "#/$defs/articleInfo"
              }
            },
            "dir": {
              "description": "The relative path of root directory of blog articles",
              "type": "string"
            },
            "further": {
              "description": "The relative paths of all rest articles in pages",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "reverse": {
              "description": "reverse the article list",
              "type": "boolean"
            },
            "year": {
              "description": "The root display path mode",
              "enum": ["y", "year", "m", "month", "d", "day"]
            }
          },
          "required": ["list"]
        },
        {
          "type": "array",
          "items": {
            "$ref": "#/$defs/articleInfo"
          }
        }
      ]
    },
    "docs": {
      "description": "The docs or wiki with tree articles",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "$ref": "#/$defs/articleInfo"
          }
        ]
      }
    },
    "hiddenArticles": {
      "description": "The additional articles which hide in menu of all articles",
      "type": "array",
      "items": {
        "$ref": "#/$defs/articleInfo"
      }
    },
    "links": {
      "description": "The additional links",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "description": "The display name",
            "type": "string"
          },
          "url": {
            "description": "The link URL",
            "type": "string"
          }
        },
        "required": ["name", "url"],
        "patternProperties": {
          "^name#": {
            "description": "The display name in the specific language",
            "type": "string"
          },
          "^url#": {
            "description": "The link URL in the specific language",
            "type": "string"
          }
        }
      }
    },
    "redir": {
      "description": "The mapping of route",
      "type": "object"
    },
    "options": {
      "description": "The additional options of website",
      "type": "object",
      "properties": {
        "disableName": {
          "description": "A flag indicating whether hide website name",
          "type": "boolean"
        },
        "disableMenu": {
          "description": "A flag to indicate whether need hide the contents in article",
          "type": "boolean"
        },
        "disableAuthors": {
          "description": "A flag to indicate whether need hide the authors and publish date in article",
          "type": "boolean"
        },
        "disableSearch": {
          "description": "A flag to indicate whether need disable search functionality",
          "type": "boolean"
        },
        "linksTitle": {
          "description": "The title of links",
          "type": "string"
        }
      }
    },
    "$defs": {
      "description": "The definitions",
      "type": "object",
      "properties": {
        "keywords": {
          "description": "All keywords information",
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/nameValueModel"
              }
            }
          ]
        },
        "roles": {
          "description": "All roles information",
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/nameValueModel"
              }
            }
          ]
        },
        "contributors": {
          "description": "All contributors",
          "type": "array",
          "items": {
            "$ref": "#/$defs/contributorInfo"
          }
        }
      }
    }
  },
  "patternProperties": {
    "^name#": {
      "description": "The website name in the specific language",
      "type": "string"
    },
    "^description#": {
      "description": "The description of the website in the specific language",
      "type": "string"
    },
    "^home#": {
      "description": "The relative URL of home markdown file in the specific language",
      "type": "string"
    }
  },
  "$defs": {
    "articleInfo": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The identifier (should be a UUID/GUID)",
          "type": "string"
        },
        "name": {
          "description": "The name of article",
          "type": "string"
        },
        "disable": {
          "description": "A flag indicate whether disable this article",
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            }
          ]
        },
        "subtitle": {
          "description": "The subtitle of the article",
          "type": "string"
        },
        "intro": {
          "description": "The introduction of the article",
          "type": "string"
        },
        "thumb": {
          "description": "The relative URL of the article thumbnail",
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "square": {
                  "description": "The relative URL of the article thumbnail in square (1:1) ratio",
                  "type": "string"
                },
                "common": {
                  "description": "The relative URL of the article thumbnail in common (4:3 or 3:2) ratio",
                  "type": "string"
                },
                "wide": {
                  "description": "The relative URL of the article thumbnail in wide (16:9 or 16:10) ratio",
                  "type": "string"
                },
                "tall": {
                  "description": "The relative URL of the article thumbnail in tall (3:4 or 9:16) ratio",
                  "type": "string"
                }
              }
            },
            {
              "type": "string"
            }
          ]
        },
        "dir": {
          "description": "The relative directory path with the article markdown file",
          "type": "string"
        },
        "file": {
          "description": "The file name of the article markdown file",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "description": "true for README.md (default value) or false for no file name",
              "type": "boolean"
            }
          ]
        },
        "keywords": {
          "description": "The keywords",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/nameValueModel"
              }
            ]
          }
        },
        "date": {
          "description": "The publish date in YYYYMMDD format",
          "type": "string"
        },
        "author": {
          "description": "The article authors",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/$defs/contributorInfo"
                  }
                ]
              }
            },
            {
              "type": "object",
              "properties": {
                "producer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "executive producer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "contributor": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "author": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "translator": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "editor": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "chief editor": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "director": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "star": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "actor": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "dev": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "qa": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "pm": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "pmo": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "photographer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "cameraman": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "designer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "film editor": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "visual effects": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "illustrator": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "dj": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "painter": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "composer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "lyricist": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "writer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "vocal": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "singer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "dancer": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "arranger": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "host": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "permanent guests": {
                  "$ref": "#/$defs/contributorInfoType"
                },
                "special guests": {
                  "$ref": "#/$defs/contributorInfoType"
                }
              }
            }
          ]
        },
        "location": {
          "description": "The city where the article publishes",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/nameValueModel"
            }
          ]
        },
        "related": {
          "description": "The related links (display in section see also)",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "name": {
                    "description": "The display name",
                    "type": "string"
                  },
                  "disable": {
                    "anyOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "enum": [ "label", "header" ]
                      }
                    ]
                  },
                  "subtitle": {
                    "description": "The subtitle",
                    "type": "string"
                  },
                  "url": {
                    "description": "The link URL",
                    "type": "string"
                  },
                  "data": {
                    "description": "Addtional data for reference",
                    "type": "object"
                  }
                },
                "patternProperties": {
                  "^name#": {
                    "description": "The display name in the specific language",
                    "type": "string"
                  },
                  "^subtitle#": {
                    "description": "The subtitle in the specific language",
                    "type": "string"
                  },
                  "^url#": {
                    "description": "The link URL in the specific language",
                    "type": "string"
                  }
                }
              }
            ]
          }
        },
        "end": {
          "description": "The mark of end comment in markdown",
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "object",
              "properties": {
                "start": {
                  "description": "The mark of start comment in markdow",
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "end": {
                  "description": "The mark of end comment in markdow",
                  "anyOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "urls": {
                  "description": "The replacement of URLS in markdown",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "old": {
                        "description": "The original text to replace",
                        "type": "string"
                      },
                      "by": {
                        "description": "The new text used to replace with",
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          ]
        },
        "notes": {
          "description": "The additional notes of the article to display at the end of content",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "children": {
          "description": "The child articles",
          "type": "array",
          "items": {
            "$ref": "#/$defs/articleInfo"
          }
        },
        "data": {
          "description": "Addtional data for reference",
          "type": "object"
        },
        "options": {
          "description": "The options of the article",
          "type": "object",
          "properties": {
              "disableMenu": {
                  "description": "A flag to indicate whether need hide the contents in article",
                  "type": "boolean"
              },
              "disableAuthors": {
                  "description": "A flag to indicate whether need hide the authors and publish date in article",
                  "type": "boolean"
              },
              "banner": {
                  "description": "The banner image URL or info",
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "name": {
                          "description": "The alt name of banner image",
                          "type": "string"
                        },
                        "url": {
                          "description": "The URL of banner image",
                          "type": "string"
                        },
                        "maxHeight": {
                          "description": "The max height of banner image",
                          "type": "integer"
                        },
                        "cover": {
                          "description": "A flag indicating whether fit cover",
                          "type": "boolean"
                        }
                      },
                      "required": ["url"]
                    }
                  ]
              },
              "kind": {
                "description": "The additional kind of article for filter",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
          }
        }
      },
      "patternProperties": {
        "^name#": {
          "description": "The name of article in the specific language",
          "type": "string"
        },
        "^disable#": {
          "description": "A flag indicate whether disable this article in the specific language",
          "type": "boolean"
        },
        "^dir#": {
          "description": "The relative directory path with the article markdown file in the specific language",
          "type": "string"
        },
        "^file#": {
          "description": "The file name of the article markdown file in the specific language",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "description": "true for README.md (default value) or false for no file name",
              "type": "boolean"
            }
          ]
        }
      }
    },
    "nameValueModel": {
      "type": "object",
      "properties": {
        "name": {
          "description": "The name",
          "type": "string"
        },
        "value": {
          "description": "The value",
          "type": "string"
        }
      },
      "required": ["value"],
      "patternProperties": {
        "^name#": {
          "description": "The name in the specific language",
          "type": "string"
        }
      }
    },
    "contributorInfo": {
      "type": "object",
      "properties": {
        "name": {
          "description": "Nickname",
          "type": "string"
        },
        "url": {
          "description": "The personal website",
          "type": "string"
        },
        "email": {
          "description": "Email address",
          "type": "string"
        },
        "avatar": {
          "description": "Avatar URL",
          "type": "string"
        }
      },
      "required": ["name"],
      "patternProperties": {
        "^name#": {
          "description": "Nickname in the specific language",
          "type": "string"
        }
      }
    },
    "contributorInfoType": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/contributorInfo"
              }
            ]
          }
        }
      ]
    }
  }
}